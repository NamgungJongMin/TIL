# JWT

유저를 인증하고 식별하기 위한 '토큰' 기반의 인증.

> 토큰 자체에 사용자의 권한 정보나 서비스를 사용하기 위한 정보가 포함됨.

## 순서

1. 클라이언트 사용자가 아이디, 패스워드를 통해 웹서비스 인증.
2. 서버에서 서명된 JWT를 생성하여 클라이언트에 응답으로 돌려주기.
3. 클라이언트가 서버에 데이터를 추가적으로 요규할 때 JWT를 HTTP Header에 첨부.
4. 서버에서 클라이언트로부터 온 JWT를 검증.

> JWT는 JSON데이터를 인코딩하여 직렬화한 것이 포함되며, 토큰 내부에는 위변조 방지를 위해 개인키를 통한 전자서명이 있음. 사용자가 JWT를 서버로 전송하면 서버는 서명을 검증하는 과정을 거치게 되며 검증이 완료되면 요청한 응답을 돌려준다.

## 구성

Header : JWT에서 사용할 타입과 해시 알고리즘의 종류
Payload : 서버에서 첨부한 사용자 권한 정보와 데이터
Signature : 전자서명

## 특징

1. 최근 웹 서비스에서 범용적으로 사용되고 있으며 규격이 정해져있기 때문에 다양한 클라이언트(웹, 모바일)에서 호환성이 뛰어나다.
2. Payload가 많아지면 토큰이 커져서 부담이 갈 수 있다.
3. 토큰이 재발급되기 전까지 사용자 정보가 갱신되더라도 적용되지 않는 문제가 있다.
4. RESTful과 같은 무상태(Stateless)환경에서의 통신이 용이하고 사용하기 쉽다.
5. 데이터를 자체적으로 가지고 있어서 데이터를 얻기 위해 타 서비스에 다시 요청하는 횟수가 줄어들어 서버의 부담이 줄어들게 된다.
6. 토큰의 만료시간이 있는 경우 만료시간까지는 강제적으로 만료시킬 수 없으므로 노출이 되어서는 안 되며 중요정보를 넣는 일이 없어야 한다.
